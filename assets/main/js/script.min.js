gsap.registerPlugin(SplitText);let container=document.querySelector(".container"),slider=document.querySelector(".slider"),slideData=[],frontSlideIndex=0,isSliderAnimating=!1;function initializeSlider(){var e=document.querySelectorAll(".slide");e.forEach(e=>{var t=e.querySelector(".slide-image"),e=e.querySelector(".slide-title");slideData.push({title:e.textContent,image:t.src})}),e.forEach(e=>{e=e.querySelector(".slide-title");new SplitText(e,{type:"words",mask:"words",wordsClass:"word"})}),e.forEach((e,t)=>{gsap.set(e,{y:15*t-15+"%",z:15*t,opacity:1})})}document.addEventListener("DOMContentLoaded",()=>{initializeSlider()});let wheelAccumulator=0,wheelThreshold=100,isWheelActive=!1,touchStartY=(container.addEventListener("wheel",e=>{e.preventDefault(),isSliderAnimating||isWheelActive||(wheelAccumulator+=Math.abs(e.deltaY))>=wheelThreshold&&(isWheelActive=!0,handleSlideChange((wheelAccumulator=0)<e.deltaY?"down":"up"),setTimeout(()=>{isWheelActive=!1},1200))},{passive:!1}),0),touchStartX=0,isTouchActive=!1,touchThreshold=50;function handleSlideChange(e="down"){isSliderAnimating||(isSliderAnimating=!0,("down"===e?handleScrollDown:handleScrollUp)())}function handleScrollDown(){let l=document.querySelectorAll(".slide")[0];var e=((frontSlideIndex=(frontSlideIndex+1)%slideData.length)+4)%slideData.length,e=slideData[e],t=document.createElement("div"),e=(t.className="slide",t.innerHTML=`
        <img src="${e.image}" alt="${e.title}" class="slide-image" />
        <h1 class="slide-title">${e.title}</h1>
      `,t.querySelector(".slide-title")),e=new SplitText(e,{type:"words",mask:"words",wordsClass:"word"});gsap.set(e.words,{yPercent:100}),slider.appendChild(t),gsap.set(t,{y:"60%",z:75,opacity:0}),document.querySelectorAll(".slide").forEach((e,t)=>{var i=t-1;gsap.to(e,{y:15*i-15+"%",z:15*i,opacity:i<0?0:1,duration:1,ease:"power3.inOut",onComplete:()=>{0===t&&(l.remove(),isSliderAnimating=!1)}})}),gsap.to(e.words,{yPercent:0,duration:.75,ease:"power4.out",stagger:.15,delay:.5})}function handleScrollUp(){var e=document.querySelectorAll(".slide");let i=e[e.length-1];frontSlideIndex=(frontSlideIndex-1+slideData.length)%slideData.length;var e=slideData[frontSlideIndex],t=document.createElement("div"),e=(t.className="slide",t.innerHTML=`
        <img src="${e.image}" alt="${e.title}" class="slide-image" />
        <h1 class="slide-title">${e.title}</h1>
      `,t.querySelector(".slide-title"));new SplitText(e,{type:"words",wordsClass:"word",mask:"words"}),slider.prepend(t),gsap.set(t,{y:"-30%",z:-15,opacity:0});let l=Array.from(slider.querySelectorAll(".slide"));l.forEach((e,t)=>{gsap.to(e,{y:15*t-15+"%",z:15*t,opacity:4<t?0:1,duration:1,ease:"power3.inOut",onComplete:()=>{t===l.length-1&&(i.remove(),isSliderAnimating=!1)}})})}container.addEventListener("touchstart",function(e){isSliderAnimating||isTouchActive||(touchStartY=e.touches[0].clientY,touchStartX=e.touches[0].clientX)},{passive:!0}),container.addEventListener("touchend",function(e){var t;isSliderAnimating||isTouchActive||(t=e.changedTouches[0].clientY,e=e.changedTouches[0].clientX,t=touchStartY-t,e=Math.abs(touchStartX-e),Math.abs(t)>e&&Math.abs(t)>touchThreshold&&(isTouchActive=!0,handleSlideChange(0<t?"down":"up"),setTimeout(()=>{isTouchActive=!1},1200)))},{passive:!0});